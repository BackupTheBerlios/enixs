#############################################################################
# Makefile for building: libcontacts.so
# Generated by qmake (1.02a) on: Fri Jul  5 17:47:55 2002
# Project:  plugin.pro
# Template: lib
# Command: $(QMAKE) plugin.pro
#############################################################################

####### Compiler, tools and options

CC       = gcc
CXX      = g++
LEX      = flex
YACC     = yacc
CFLAGS   = -pipe -Wall -W -g -D_REENTRANT -fPIC  -DQT_THREAD_SUPPORT -DQT_PLUGIN
CXXFLAGS = -pipe -Wall -W -g -D_REENTRANT -fPIC  -DQT_THREAD_SUPPORT -DQT_PLUGIN
LEXFLAGS = 
YACCFLAGS= -d
INCPATH  = -I$(QTDIR)/tools/designer/interfaces -I../../include -I../../share -I../../share/validators -I../../share/widgets -I/opt/sapdb/interfaces/odbc/incl -I$(QTDIR)/include -Iobj/ -I$(QTDIR)/mkspecs/default
LINK     = g++
LFLAGS   = -shared -Wl,-soname,libcontacts.so.1
LIBS     = $(SUBLIBS) -L$(QTDIR)/lib -lqt-mt -lpthread
AR       = ar cqs
RANLIB   = 
MOC      = $(QTDIR)/bin/moc
UIC      = $(QTDIR)/bin/uic
QMAKE    = qmake
TAR      = tar -cf
GZIP     = gzip -9f
COPY     = cp -f
COPY_FILE= $(COPY) -p
COPY_DIR = $(COPY) -pR
DEL_FILE = rm -f
DEL_DIR  = rmdir
MOVE     = mv

####### Output directory

OBJECTS_DIR = obj/

####### Files

HEADERS = plugin.h \
		contacts.h \
		general/general.h \
		communication/communication.h \
		address/address.h \
		job/job.h \
		private/private.h \
		security/security.h \
		friendlist/friendlist.h \
		widgets/commline.h \
		widgets/addressbox.h \
		widgets/jobbox.h \
		../../share/validators/datevalidator.h \
		../../share/validators/phonevalidator.h \
		../../share/widgets/textedit.h
SOURCES = plugin.cpp \
		contacts.cpp \
		general/general.cpp \
		communication/communication.cpp \
		address/address.cpp \
		job/job.cpp \
		private/private.cpp \
		security/security.cpp \
		friendlist/friendlist.cpp \
		widgets/commline.cpp \
		widgets/addressbox.cpp \
		widgets/jobbox.cpp \
		../../share/validators/datevalidator.cpp \
		../../share/validators/phonevalidator.cpp \
		../../share/widgets/textedit.cpp
OBJECTS = obj/plugin.o \
		obj/contacts.o \
		obj/general.o \
		obj/communication.o \
		obj/address.o \
		obj/job.o \
		obj/private.o \
		obj/security.o \
		obj/friendlist.o \
		obj/commline.o \
		obj/addressbox.o \
		obj/jobbox.o \
		obj/datevalidator.o \
		obj/phonevalidator.o \
		obj/textedit.o
FORMS = 
UICDECLS = 
UICIMPLS = 
SRCMOC   = obj/moc_contacts.cpp \
		obj/moc_general.cpp \
		obj/moc_communication.cpp \
		obj/moc_address.cpp \
		obj/moc_job.cpp \
		obj/moc_private.cpp \
		obj/moc_security.cpp \
		obj/moc_friendlist.cpp \
		obj/moc_commline.cpp \
		obj/moc_addressbox.cpp \
		obj/moc_jobbox.cpp \
		obj/moc_textedit.cpp
OBJMOC = obj/moc_contacts.o \
		obj/moc_general.o \
		obj/moc_communication.o \
		obj/moc_address.o \
		obj/moc_job.o \
		obj/moc_private.o \
		obj/moc_security.o \
		obj/moc_friendlist.o \
		obj/moc_commline.o \
		obj/moc_addressbox.o \
		obj/moc_jobbox.o \
		obj/moc_textedit.o
DIST	   = 
QMAKE_TARGET = contacts
DESTDIR  = ../
TARGET   = libcontacts.so
TARGETD   = libcontacts.so

first: all
####### Implicit rules

.SUFFIXES: .c .cpp .cc .cxx .C

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.C.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o $@ $<

####### Build rules

all: Makefile  ../$(TARGET)

../$(TARGET):  $(UICDECLS) $(OBJECTS) $(OBJMOC) $(SUBLIBS) 
	test -d ../ || mkdir -p ../
	-rm -f $(TARGET)
	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)
	-mv $(TARGET) ../



mocables: $(SRCMOC)

$(MOC): 
	( cd $(QTDIR)/src/moc ; $(MAKE) )

Makefile: plugin.pro  $(QTDIR)/mkspecs/default/qmake.conf 
	$(QMAKE) plugin.pro
qmake: 
	@$(QMAKE) plugin.pro

dist: 
	@mkdir -p obj/contacts && $(COPY_FILE) --parents $(SOURCES) $(HEADERS) $(FORMS) $(DIST) obj/contacts/ && ( cd `dirname obj/contacts` && $(TAR) contacts.tar contacts && $(GZIP) contacts.tar ) && mv `dirname obj/contacts`/contacts.tar.gz . && rm -rf obj/contacts

mocclean:
	-rm -f $(OBJMOC)
	-rm -f $(SRCMOC)

uiclean:

clean: mocclean
	-rm -f $(OBJECTS) 
	-rm -f *~ core *.core


####### Sub-libraries

distclean: clean
	-rm -f ../$(TARGET) $(TARGET)
	

FORCE:

####### Compile

obj/plugin.o: plugin.cpp plugin.h \
		contacts.h \
		general/general.h \
		communication/communication.h \
		address/address.h \
		job/job.h \
		private/private.h \
		security/security.h \
		widgets/commline.h \
		widgets/addressbox.h \
		widgets/jobbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/plugin.o plugin.cpp

obj/contacts.o: contacts.cpp contacts.h \
		bitmaps/contactnew.xpm \
		bitmaps/contactdelete.xpm \
		bitmaps/contactsave.xpm \
		bitmaps/contactclose.xpm \
		bitmaps/contactprint.xpm \
		bitmaps/editundo.xpm \
		bitmaps/editcut.xpm \
		bitmaps/editcopy.xpm \
		bitmaps/editpaste.xpm \
		bitmaps/editfind.xpm \
		bitmaps/helpcontents.xpm \
		bitmaps/helpcontext.xpm \
		bitmaps/contacts.xpm \
		bitmaps/group.xpm \
		bitmaps/man.xpm \
		bitmaps/woman.xpm \
		general/general.h \
		communication/communication.h \
		address/address.h \
		job/job.h \
		private/private.h \
		security/security.h \
		widgets/commline.h \
		widgets/addressbox.h \
		widgets/jobbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/contacts.o contacts.cpp

obj/general.o: general/general.cpp general/general.h \
		validators/datevalidator.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/general.o general/general.cpp

obj/communication.o: communication/communication.cpp communication/communication.h \
		widgets/commline.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/communication.o communication/communication.cpp

obj/address.o: address/address.cpp address/address.h \
		widgets/addressbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/address.o address/address.cpp

obj/job.o: job/job.cpp job/job.h \
		widgets/jobbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/job.o job/job.cpp

obj/private.o: private/private.cpp private/private.h \
		validators/datevalidator.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/private.o private/private.cpp

obj/security.o: security/security.cpp security/security.h \
		friendlist/friendlist.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/security.o security/security.cpp

obj/friendlist.o: friendlist/friendlist.cpp friendlist/friendlist.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/friendlist.o friendlist/friendlist.cpp

obj/commline.o: widgets/commline.cpp widgets/commline.h \
		bitmaps/phone.xpm \
		bitmaps/fax.xpm \
		bitmaps/handy.xpm \
		bitmaps/car.xpm \
		bitmaps/mail.xpm \
		bitmaps/homepage.xpm \
		bitmaps/pager.xpm \
		bitmaps/headquarter.xpm \
		bitmaps/assistant.xpm \
		bitmaps/others.xpm \
		bitmaps/delete.xpm
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/commline.o widgets/commline.cpp

obj/addressbox.o: widgets/addressbox.cpp widgets/addressbox.h \
		bitmaps/delete.xpm \
		bitmaps/office.xpm \
		bitmaps/home.xpm \
		bitmaps/others.xpm
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/addressbox.o widgets/addressbox.cpp

obj/jobbox.o: widgets/jobbox.cpp widgets/jobbox.h \
		bitmaps/delete.xpm
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/jobbox.o widgets/jobbox.cpp

obj/datevalidator.o: ../../share/validators/datevalidator.cpp ../../share/validators/datevalidator.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/datevalidator.o ../../share/validators/datevalidator.cpp

obj/phonevalidator.o: ../../share/validators/phonevalidator.cpp ../../share/validators/phonevalidator.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/phonevalidator.o ../../share/validators/phonevalidator.cpp

obj/textedit.o: ../../share/widgets/textedit.cpp ../../share/widgets/textedit.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/textedit.o ../../share/widgets/textedit.cpp

obj/moc_contacts.o: obj/moc_contacts.cpp contacts.h general/general.h \
		communication/communication.h \
		address/address.h \
		job/job.h \
		private/private.h \
		security/security.h \
		widgets/commline.h \
		widgets/addressbox.h \
		widgets/jobbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_contacts.o obj/moc_contacts.cpp

obj/moc_general.o: obj/moc_general.cpp general/general.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_general.o obj/moc_general.cpp

obj/moc_communication.o: obj/moc_communication.cpp communication/communication.h widgets/commline.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_communication.o obj/moc_communication.cpp

obj/moc_address.o: obj/moc_address.cpp address/address.h widgets/addressbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_address.o obj/moc_address.cpp

obj/moc_job.o: obj/moc_job.cpp job/job.h widgets/jobbox.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_job.o obj/moc_job.cpp

obj/moc_private.o: obj/moc_private.cpp private/private.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_private.o obj/moc_private.cpp

obj/moc_security.o: obj/moc_security.cpp security/security.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_security.o obj/moc_security.cpp

obj/moc_friendlist.o: obj/moc_friendlist.cpp friendlist/friendlist.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_friendlist.o obj/moc_friendlist.cpp

obj/moc_commline.o: obj/moc_commline.cpp widgets/commline.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_commline.o obj/moc_commline.cpp

obj/moc_addressbox.o: obj/moc_addressbox.cpp widgets/addressbox.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_addressbox.o obj/moc_addressbox.cpp

obj/moc_jobbox.o: obj/moc_jobbox.cpp widgets/jobbox.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_jobbox.o obj/moc_jobbox.cpp

obj/moc_textedit.o: obj/moc_textedit.cpp ../../share/widgets/textedit.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/moc_textedit.o obj/moc_textedit.cpp

obj/moc_contacts.cpp: $(MOC) contacts.h
	$(MOC) contacts.h -o obj/moc_contacts.cpp

obj/moc_general.cpp: $(MOC) general/general.h
	$(MOC) general/general.h -o obj/moc_general.cpp

obj/moc_communication.cpp: $(MOC) communication/communication.h
	$(MOC) communication/communication.h -o obj/moc_communication.cpp

obj/moc_address.cpp: $(MOC) address/address.h
	$(MOC) address/address.h -o obj/moc_address.cpp

obj/moc_job.cpp: $(MOC) job/job.h
	$(MOC) job/job.h -o obj/moc_job.cpp

obj/moc_private.cpp: $(MOC) private/private.h
	$(MOC) private/private.h -o obj/moc_private.cpp

obj/moc_security.cpp: $(MOC) security/security.h
	$(MOC) security/security.h -o obj/moc_security.cpp

obj/moc_friendlist.cpp: $(MOC) friendlist/friendlist.h
	$(MOC) friendlist/friendlist.h -o obj/moc_friendlist.cpp

obj/moc_commline.cpp: $(MOC) widgets/commline.h
	$(MOC) widgets/commline.h -o obj/moc_commline.cpp

obj/moc_addressbox.cpp: $(MOC) widgets/addressbox.h
	$(MOC) widgets/addressbox.h -o obj/moc_addressbox.cpp

obj/moc_jobbox.cpp: $(MOC) widgets/jobbox.h
	$(MOC) widgets/jobbox.h -o obj/moc_jobbox.cpp

obj/moc_textedit.cpp: $(MOC) ../../share/widgets/textedit.h
	$(MOC) ../../share/widgets/textedit.h -o obj/moc_textedit.cpp

####### Install

install_target: 
	@test -d $(INSTALL_ROOT)/plugins/ || mkdir -p $(INSTALL_ROOT)/plugins/
	-$(COPY) "../$(TARGET)" "$(INSTALL_ROOT)/plugins/$(TARGET)"
uninstall_target: 
	-$(DEL_FILE) "$(INSTALL_ROOT)/plugins/$(TARGET)"
	-$(DEL_DIR) "$(INSTALL_ROOT)/plugins/"

install: all install_target 

uninstall: uninstall_target 

